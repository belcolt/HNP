@model HospiceNiagara.Models.EventListViewModel

@{
    ViewBag.Title = "Meetings";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Meetings</h2>


<div class="panel-heading">
   @* @Ajax.ActionLink("Add Meeting","CreateMeeting", new AjaxOptions { UpdateTargetId = "__CreateMeetingModal", InsertionMode = InsertionMode.Replace, HttpMethod = "Get" }, htmlAttributes: new { @data_toggle = "modal", @data_target = "#modalCreateMeeting" })*@
    @(if User.IsInRole("Administrator"))
    {
    @Html.ActionLink("Add new meeting","CreateMeeting")
    @Html.ActionLink("Add new event", "CreateEvent")
    }
    @*<button type="button" class="btn btn-link" data-toggle="modal" data-target="#modalCreateEvent">
        Add new Meeting
    </button>*@
    <!-- Modal -->
    <div class="modal fade" id="modalCreateMeeting" tabindex="-1" role="dialog" aria-labelledby="modalCreateMeeting" aria-hidden="true">
      @*@Html.Partial("_CreateMeetingModal")*@
    </div><!-- /.modal -->
</div>
<div></div>
@*[MTG_TBL]*@
<!-- Table -->
<table class="table table-hover" id="eventsIndex">
    <tr>
        <th></th>
        <th>@Html.DisplayNameFor(model => model.Name)</th>
        <th>@Html.DisplayNameFor(model => model.StartDate)</th>
        <th>@Html.DisplayNameFor(model => model.EndDate)</th>
        <th>@Html.DisplayNameFor(model => model.Location)</th>
        <th>RSVPs</th>
        <th></th>
    </tr>
    @if (ViewBag.EventsList != null)
    {
        foreach (HospiceNiagara.Models.EventListViewModel item in ViewBag.EventsList)
        {  
            <tr>
                <td><button type="button" class="btn btn-default">RSVP</button></td>
                <td>@item.Name</td>
                <td>@item.StartDate</td>
                <td>@item.EndDate</td>
                <td>@item.Location</td>
                <td>@Html.ActionLink(@item.AttendanceCount,"Invites",new{id=@item.ID})</td>
                <td>@Html.ActionLink("Edit", "Edit", new { id = @item.ID })|@Html.ActionLink("Delete","Delete",new { id = @item.ID })</td>
            </tr>
        }
    }
    </table>
    if(User.IsInRole("Administrator"))
    @*<div id="eventList">
            @Html.Partial("_EventIndexList")
        </div>*@
    <button type="button" class="btn btn-link" data-toggle="modal" data-target="#modal">
        Export
    </button>
    @*
        Priority:

        - P2 = Prototype 2
        - P3 = Prototype 3

        TO DO (COPY WHAT'S IN THE [ ] AND CTRL + F TO FIND THE SECTION):

        - Meeting Table [MTG_TBL]: (P2) We'll need to replace the example of the data table with an actual one, limiting the columns as currently displayed. Make sure to include a details link to details view page.

        If you've finished one of these points, place a *DONE* at the beginning of the point.
    *@
